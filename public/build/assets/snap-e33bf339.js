(function(){const a={section:"[data-section-snap]",sectionIntro:"[data-section-snap-intro]",logoByline:"[data-logo-byline]",header:"#header",video:"video",anchor:"[data-anchor]",anchorTarget:"[data-anchor-target]"};let c=null;const r=document.querySelectorAll(a.section),s=document.querySelector(a.header),i=()=>{d(),c=r[0];const e=new IntersectionObserver(o=>{o.forEach(n=>{n.isIntersecting&&(c&&n.target!==c&&v(c),l(n.target),h(n.target),c=n.target)})},{threshold:.25});r.forEach(o=>e.observe(o)),document.querySelectorAll(a.anchor).forEach(o=>{o.addEventListener("click",u)})},d=()=>{window.location.hash&&s.classList.add("prevent-animation")},l=e=>{if(e.classList.add("is-active"),!e.matches(a.sectionIntro)){const o=document.querySelector(a.logoByline);o&&o.classList.add("hidden")}const t=e.querySelector(a.video);t&&g(t,e)},h=e=>{const t=e.getAttribute("data-section-theme");t&&s.setAttribute("data-icon-theme",t)},u=e=>{const t=e.currentTarget,o=document.querySelector('[data-anchor-target="'+t.dataset.anchor+'"]');o&&(history.pushState(null,null,"#"+t.dataset.anchor),o.scrollIntoView({behavior:"smooth"}))},g=(e,t)=>{const o=document.querySelector(a.header);e.play().then(()=>{t.classList.add("is-playing"),o.classList.add("is-playing")}).catch(n=>{console.error("Error playing video:",n)})},v=e=>{const t=e.querySelector(a.video);t&&(t.pause(),e.classList.remove("is-running"))};i()})();
