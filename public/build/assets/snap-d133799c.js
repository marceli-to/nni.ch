(function(){const n={section:"[data-section-snap]",sectionIntro:"[data-section-snap-intro]",logoByline:"[data-logo-byline]",header:"#header",video:"video",anchor:"[data-anchor]",anchorTarget:"[data-anchor-target]"};let c=null;const r=document.querySelectorAll(n.section),s=document.querySelector(n.header),l=()=>{d(),c=r[0];const e=new IntersectionObserver(o=>{o.forEach(a=>{a.isIntersecting&&(c&&a.target!==c&&m(c),h(a.target),u(a.target),c=a.target)})},{threshold:.25});r.forEach(o=>e.observe(o)),document.querySelectorAll(n.anchor).forEach(o=>{o.addEventListener("click",g)})},d=()=>{const e=window.location.hash;e&&(s.classList.add("prevent-animation"),i(e.replace("#","")))},h=e=>{if(e.classList.add("is-active"),!e.matches(n.sectionIntro)){const o=document.querySelector(n.logoByline);o&&o.classList.add("hidden")}const t=e.querySelector(n.video);t&&v(t,e)},u=e=>{const t=e.getAttribute("data-section-theme");t&&s.setAttribute("data-icon-theme",t)},g=e=>{const t=e.currentTarget;i(t.dataset.anchor)},i=e=>{const t=document.querySelector('[data-anchor-target="'+e+'"]');t&&(history.pushState(null,null,"#"+e),t.scrollIntoView({behavior:"smooth"}))},v=(e,t)=>{const o=document.querySelector(n.header);e.play().then(()=>{t.classList.add("is-playing"),o.classList.add("is-playing")}).catch(a=>{console.error("Error playing video:",a)})},m=e=>{const t=e.querySelector(n.video);t&&(t.pause(),e.classList.remove("is-running"))};l()})();
